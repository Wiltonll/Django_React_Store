(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{185:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),c=a(17),n=a.n(c),i=a(11),o=a(259),l=a(43),d=a(26),j=a.n(d);var u=new class{async getUserDetails(){try{const e={headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:t}=await j.a.get("/api/users/",e);return t}catch(e){throw e.response&&e.response.data.detail?e.response.data.detail:e.message}}async createUser(e,t,a){try{const r={headers:{"Content-Type":"application/json"}},{data:s}=await j.a.post("/api/users/register/",{name:e,email:t,password:a},r);return s}catch(r){throw r.response&&r.response.data.detail?r.response.data.detail:r.message}}async updateUser(e,t){try{const e={headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:a}=await j.a.put("/api/users/profile/update/",t,e);return a}catch(a){throw a.response&&a.response.data.detail?a.response.data.detail:a.message}}async deleteUser(e){try{const t={headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}};await j.a.delete(`/api/users/delete/${e}/`,t)}catch(t){throw t.response&&t.response.data.detail?t.response.data.detail:t.message}}async login(e,t){try{const{data:a}=await j.a.post("/api/users/login/",{username:e,password:t});return a}catch(a){throw a.response&&a.response.data.detail?a.response.data.detail:a.message}}};const h=localStorage.getItem("userInfo"),p={userDetails:h?JSON.parse(h):null,loading:!1,error:null},b=Object(l.b)({name:"user",initialState:p,reducers:{loginStart(e){e.loading=!0,e.error=null},loginSuccess(e,t){e.userDetails=t.payload,e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(t.payload))},loginFailure(e,t){e.loading=!1,e.error=t.payload},getUserDetailsStart(e){e.loading=!0,e.error=null},getUserDetailsSuccess(e,t){e.userDetails=t.payload,e.loading=!1,e.error=null},getUserDetailsFailure(e,t){e.loading=!1,e.error=t.payload},createUserStart(e){e.loading=!0,e.error=null},createUserSuccess(e,t){e.userDetails={...t.payload},e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(t.payload))},createUserFailure(e,t){e.loading=!1,e.error=t.payload},updateUserStart(e){e.loading=!0,e.error=null},updateUserSuccess(e,t){e.userDetails={...e.userDetails,...t.payload},e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(e.userDetails))},updateUserFailure(e,t){e.loading=!1,e.error=t.payload},deleteUserStart(e){e.loading=!0,e.error=null},deleteUserSuccess(e){e.userDetails={},e.loading=!1,e.error=null,localStorage.removeItem("userInfo")},deleteUserFailure(e,t){e.loading=!1,e.error=t.payload},logoutSuccess(e){e.userDetails={},e.loading=!1,e.error=null,localStorage.removeItem("userInfo")}}}),{loginStart:O,loginSuccess:x,loginFailure:m,getUserDetailsStart:g,getUserDetailsSuccess:y,getUserDetailsFailure:v,createUserStart:f,createUserSuccess:S,createUserFailure:I,updateUserStart:w,updateUserSuccess:C,updateUserFailure:k,deleteUserStart:D,deleteUserSuccess:R,deleteUserFailure:P,logoutSuccess:N}=b.actions,{reducer:L}=b;var F=a(14),$=a(239),A=a(240),E=a(237),U=a(142),q=a(275),z=a(241),T=a(242),_=a(234),M=a(21),B=a(262),J=a(274),W=a(238),G=a(1);const H=Object(_.a)((e=>({root:{display:"flex",borderRadius:e.shape.borderRadius,backgroundColor:"#fff",boxShadow:"0 0 3px 1px rgba(0, 0, 0, 0.1)",width:"100%"},input:{marginLeft:e.spacing(2),flex:1,fontSize:"1rem"},iconButton:{padding:e.spacing(1),backgroundColor:"grey",color:"#fff","&:hover":{backgroundColor:"black"}}})));var K=function(){const e=H(),[t,a]=Object(r.useState)(""),s=Object(M.useHistory)();return Object(G.jsxs)(B.a,{component:"form",onSubmit:e=>{e.preventDefault(),s.push(`/?keyword=${t}&page=1`)},className:e.root,children:[Object(G.jsx)(J.a,{placeholder:"Pesquisar Produtos...",className:e.input,value:t,onChange:e=>a(e.target.value)}),Object(G.jsx)(E.a,{type:"submit",className:e.iconButton,"aria-label":"search",children:Object(G.jsx)(W.a,{})})]})},V=a.p+"static/media/icons.d7df17ba.png";const X=Object(_.a)((e=>({appBar:{backgroundColor:"#212121"},grow:{flexGrow:1},menuItem:{minWidth:180},link:{textDecoration:"none",color:"#fff"}})));var Y=()=>{const e=X(),t=Object(i.b)(),a=Object(i.c)((e=>e.user)),{userDetails:r}=a,[c,n]=s.a.useState(null),o=Boolean(c),l=()=>{n(null)};return Object(G.jsx)("div",{className:e.grow,children:Object(G.jsx)($.a,{position:"static",className:e.appBar,children:Object(G.jsxs)(A.a,{children:[Object(G.jsx)(F.Link,{to:"/",className:e.link,children:Object(G.jsx)("img",{src:V,alt:"",style:{height:50,width:50,borderRadius:"50%",objectFit:"cover"}})}),Object(G.jsx)("div",{style:{marginLeft:"5vw"},children:Object(G.jsx)(K,{})}),Object(G.jsx)("div",{className:e.grow}),Object(G.jsx)("div",{children:Object(G.jsx)(E.a,{"aria-label":"show cart items",color:"inherit",component:F.Link,to:"/cart",style:{color:"white"},children:Object(G.jsx)(z.a,{})})}),console.log(r),r?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(E.a,{edge:"end","aria-label":"conta do usu\xe1rio atual","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{n(e.currentTarget)},color:"inherit",style:{color:"white"},children:Object(G.jsx)(T.a,{})}),Object(G.jsxs)(U.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:l,children:[Object(G.jsx)(q.a,{className:e.menuItem,component:F.Link,to:"/profile",onClick:l,children:"Perfil"}),Object(G.jsx)(q.a,{className:e.menuItem,onClick:()=>{t((e=>{e(b.actions.logoutSuccess())})),console.log("hi"),l(),window.location.reload()},children:"Sair"})]})]}):Object(G.jsx)("div",{children:Object(G.jsx)(E.a,{"aria-label":"login",color:"inherit",component:F.Link,to:"/login",style:{color:"white"},children:Object(G.jsx)(T.a,{})})})]})})})},Z=a(243),Q=a(244),ee=a(245);var te=function(){return Object(G.jsx)("footer",{children:Object(G.jsx)(Z.a,{children:Object(G.jsx)(Q.a,{container:!0,justifyContent:"center",children:Object(G.jsx)(Q.a,{item:!0,children:Object(G.jsx)(ee.a,{variant:"body1",color:"textSecondary",align:"center"})})})})})},ae=a(254),re=a(139),se=a(270),ce=a(276),ne=a(277),ie=a(278),oe=a(279),le=a(246),de=a(247),je=a(248);var ue=function(e){let{value:t,text:a,color:r}=e;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(B.a,{display:"flex",alignItems:"center",children:[Object(G.jsx)(B.a,{mr:1,children:t>=1?Object(G.jsx)(le.a,{style:{color:r},fontSize:"small"}):t>=.5?Object(G.jsx)(de.a,{style:{color:r},fontSize:"small"}):Object(G.jsx)(je.a,{style:{color:r},fontSize:"small"})}),Object(G.jsx)(B.a,{mr:1,children:t>=2?Object(G.jsx)(le.a,{style:{color:r},fontSize:"small"}):t>=1.5?Object(G.jsx)(de.a,{style:{color:r},fontSize:"small"}):Object(G.jsx)(je.a,{style:{color:r},fontSize:"small"})}),Object(G.jsx)(B.a,{mr:1,children:t>=3?Object(G.jsx)(le.a,{style:{color:r},fontSize:"small"}):t>=2.5?Object(G.jsx)(de.a,{style:{color:r},fontSize:"small"}):Object(G.jsx)(je.a,{style:{color:r},fontSize:"small"})}),Object(G.jsx)(B.a,{mr:1,children:t>=4?Object(G.jsx)(le.a,{style:{color:r},fontSize:"small"}):t>=3.5?Object(G.jsx)(de.a,{style:{color:r},fontSize:"small"}):Object(G.jsx)(je.a,{style:{color:r},fontSize:"small"})}),Object(G.jsx)(B.a,{mr:1,children:t>=5?Object(G.jsx)(le.a,{style:{color:r},fontSize:"small"}):t>=4.5?Object(G.jsx)(de.a,{style:{color:r},fontSize:"small"}):Object(G.jsx)(je.a,{style:{color:r},fontSize:"small"})})]}),Object(G.jsx)(ee.a,{variant:"subtitle2",color:"textSecondary",children:a||""})]})};var he=function(e){let{product:t}=e;return Object(G.jsx)(se.a,{sx:{width:250,height:400,maxWidth:345,margin:"5px",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out","&:hover":{transform:"scale(1.05)",boxShadow:"0 0 15px rgba(0, 0, 0, 0.8)",border:"2px solid black"}},children:Object(G.jsxs)(ce.a,{component:F.Link,to:`/product/${t._id}`,children:[Object(G.jsx)(ne.a,{component:"img",sx:{objectFit:"contain",height:180},image:t.image,alt:t.name}),Object(G.jsxs)(ie.a,{style:{textAlign:"center"},children:[Object(G.jsx)(oe.a,{gutterBottom:!0,variant:"h6",component:"div",sx:{minHeight:50},children:t.name}),Object(G.jsx)(oe.a,{variant:"body2",color:"text.secondary",sx:{display:"flex",flexDirection:"column",alignItems:"center"},component:"div",children:Object(G.jsx)(ue,{value:t.rating,text:`${t.numReviews} Avalia\xe7\xf5es`,color:"#f8e825"})}),Object(G.jsxs)(oe.a,{variant:"h6",component:"div",children:["R$",t.price]})]})]})})},pe=a(253);function be(){return Object(G.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(G.jsx)(pe.a,{size:100})})}var Oe=a(265),xe=a(18);const me=Object(xe.a)(Oe.a)((e=>{let{theme:t,variant:a}=e;return{backgroundColor:"grey",color:"white"}}));function ge(e){let{variant:t,children:a}=e;return Object(G.jsx)(me,{variant:t,severity:t,children:a})}var ye=a(260);const ve="http://127.0.0.1:8000";var fe=new class{async getProductList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const{data:a}=await j.a.get(`${ve}/api/products/`,{params:{keyword:e,page:t}});return console.log("Dados recebidos da API:",a),a}catch(a){throw a.response&&a.response.data.detail?a.response.data.detail:a.message}}async getProductDetails(e){try{const{data:t}=await j.a.get(`${ve}/api/products/${e}`);return console.log(t),t}catch(t){throw t.response&&t.response.data.detail?t.response.data.detail:t.message}}async createProductReview(e,t){try{const a={headers:{"Content-type":"application/json",Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:r}=await j.a.post(`${ve}/api/products/${e}/reviews/`,t,a);return r}catch(a){throw a.response&&a.response.data.detail?a.response.data.detail:a.message}}async getTopRatedProducts(){try{const{data:e}=await j.a.get(`${ve}/api/products/top/`);return e}catch(e){throw e.response&&e.response.data.detail?e.response.data.detail:e.message}}};const Se=Object(l.b)({name:"product",initialState:{productList:{products:[],loading:!1,error:null,page:0,pages:0},productDetails:{product:{reviews:[]},loading:!1,error:null},createReview:{loading:!1,error:null,success:!1},topRatedProducts:{products:[],loading:!1,error:null}},reducers:{productListRequest(e){e.productList.loading=!0,e.productList.error=null},productListSuccess(e,t){e.productList.loading=!1,e.productList.products=t.payload.products,e.productList.page=t.payload.page,e.productList.pages=t.payload.pages},productListFailure(e,t){e.productList.loading=!1,e.productList.error=t.payload},productDetailsRequest(e){e.productDetails.loading=!0,e.productDetails.error=null},productDetailsSuccess(e,t){e.productDetails.loading=!1,e.productDetails.product=t.payload},productDetailsFailure(e,t){e.productDetails.loading=!1,e.productDetails.error=t.payload},createReviewRequest(e){e.createReview.loading=!0,e.createReview.error=null,e.createReview.success=!1},createReviewSuccess(e){e.createReview.loading=!1,e.createReview.success=!0},createReviewFailure(e,t){e.createReview.loading=!1,e.createReview.error=t.payload},productTopRequest(e){e.topRatedProducts.loading=!0,e.topRatedProducts.error=null},productTopSuccess(e,t){e.topRatedProducts.loading=!1,e.topRatedProducts.products=t.payload},productTopFailure(e,t){e.topRatedProducts.loading=!1,e.topRatedProducts.error=t.payload}}}),{productListRequest:Ie,productListSuccess:we,productListFailure:Ce,productDetailsRequest:ke,productDetailsSuccess:De,productDetailsFailure:Re,createReviewRequest:Pe,createReviewSuccess:Ne,createReviewFailure:Le,productTopRequest:Fe,productTopSuccess:$e,productTopFailure:Ae}=Se.actions,{reducer:Ee}=Se;var Ue=a.p+"static/media/banner1.761e744a.jpg",qe=a.p+"static/media/banner2.6c251e4c.jpg",ze=a.p+"static/media/banner3.02a56a1e.jpg",Te=a.p+"static/media/banner4.78dfcddf.jpg",_e=a.p+"static/media/banner5.3dc6be00.jpg";var Me=function(){const e=Object(i.b)(),t=Object(i.c)((e=>e.product.topRatedProducts)),{error:a,loading:s,products:c}=t;return Object(r.useEffect)((()=>{e((async e=>{try{e(Fe());const t=await fe.getTopRatedProducts();e($e(t))}catch(a){var t;e(Ae((null===(t=a.response)||void 0===t?void 0:t.data.detail)||a.message))}}))}),[e]),s?Object(G.jsx)(be,{}):a?Object(G.jsx)(ge,{variant:"danger",children:a}):Object(G.jsxs)(ye.a,{fade:!0,pause:"hover",className:"carousel-container",interval:5e3,children:[Object(G.jsx)(ye.a.Item,{children:Object(G.jsx)(F.Link,{to:"/product/iphone-id",children:Object(G.jsx)("img",{src:Ue,alt:"",className:"d-block w-100"})})}),Object(G.jsx)(ye.a.Item,{children:Object(G.jsx)(F.Link,{to:"/product/mouse-id",children:Object(G.jsx)("img",{src:qe,alt:"",className:"d-block w-100"})})}),Object(G.jsx)(ye.a.Item,{children:Object(G.jsx)(F.Link,{to:"/product/mouse-id",children:Object(G.jsx)("img",{src:ze,alt:"",className:"d-block w-100"})})}),Object(G.jsx)(ye.a.Item,{children:Object(G.jsx)(F.Link,{to:"/product/mouse-id",children:Object(G.jsx)("img",{src:Te,alt:"",className:"d-block w-100"})})}),Object(G.jsx)(ye.a.Item,{children:Object(G.jsx)(F.Link,{to:"/product/mouse-id",children:Object(G.jsx)("img",{src:_e,alt:"",className:"d-block w-100"})})})]})},Be=a(273),Je=a(91);var We=e=>{let{page:t,pages:a,keyword:r}=e;return a>1&&Object(G.jsx)(Be.a,{children:[...Array(a).keys()].map((e=>Object(G.jsx)(Je.LinkContainer,{to:r?`/search/${r}/page/${e+1}`:`/page/${e+1}`,children:Object(G.jsx)(Be.a.Item,{active:e+1===t,children:e+1})},e+1)))})},Ge=a(138);var He=function(e){let{history:t}=e;const a=Object(i.b)(),s=Object(i.c)((e=>e.product.productList)),c=Object(i.c)((e=>e.product.topRatedProducts)),{products:n,loading:o,error:l,page:d,pages:j}=s,{pageNumber:u}=Object(Ge.useParams)(),{products:h,loading:p,error:b}=c;console.log(s);let O=t.location.search;return console.log(O),Object(r.useEffect)((()=>{a(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return async a=>{try{a(Ie());const r=await fe.getProductList(e,t);a(we(r))}catch(l){var r;a(Ce((null===(r=l.response)||void 0===r?void 0:r.data.detail)||l.message))}}}(O,u))}),[a,O,u]),console.log("Produtos carregados no Redux:",n),Object(G.jsxs)("div",{children:[!O&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:"custom-title",children:"EM ALTA"}),Object(G.jsx)(Me,{})]}),Object(G.jsx)("div",{className:"custom-title",children:"PRODUTOS VARIADOS"}),o?Object(G.jsx)(be,{}):l?Object(G.jsx)(ge,{variant:"danger",children:l}):Object(G.jsx)("div",{children:Object(G.jsx)(ae.a,{children:n.map((e=>Object(G.jsx)(re.a,{sm:12,md:6,lg:4,xl:3,children:Object(G.jsx)(he,{product:e})},e._id)))})}),Object(G.jsx)(We,{page:d,pages:j,keyword:O})]})},Ke=a(255),Ve=a(264),Xe=a(267),Ye=a(263),Ze=a(256);var Qe=new class{async fetchProduct(e){try{const{data:t}=await j.a.get(`/api/products/${e}`);return t}catch(t){throw t}}};const et=Object(l.b)({name:"cart",initialState:{cartItems:JSON.parse(localStorage.getItem("cartItems"))||[],shippingAddress:{}},reducers:{setCartItems(e,t){e.cartItems=t.payload,console.log(e.cartItems),localStorage.setItem("cartItems",JSON.stringify(t.payload))},removeCartItem(e,t){const a=t.payload;e.cartItems=e.cartItems.filter((e=>e._id!==a)),localStorage.setItem("cartItems",JSON.stringify(e.cartItems))},setShippingAddress(e,t){e.shippingAddress=t.payload,localStorage.setItem("shippingAddress",JSON.stringify(t.payload))},setPaymentMethod(e,t){e.paymentMethod=t.payload,localStorage.setItem("paymentMethod",JSON.stringify(t.payload))}}}),{setCartItems:tt,removeCartItem:at,setShippingAddress:rt,setPaymentMethod:st}=et.actions,{reducer:ct}=et;var nt=function(e){let{match:t,history:a}=e;const[s,c]=Object(r.useState)(1),[n,o]=Object(r.useState)(0),[l,d]=Object(r.useState)(""),j=Object(i.b)(),u=Object(i.c)((e=>e.product.productDetails)),{product:h,loading:p,error:b}=u;console.log(u);const O=Object(i.c)((e=>e.user)),{userDetails:x}=O,m=Object(i.c)((e=>e.product.createReview)),{loading:g,error:y,success:v}=m;return Object(r.useEffect)((()=>{var e;v&&(o(0),d("")),j((e=t.params.id,async t=>{try{t(ke());const a=await fe.getProductDetails(e);t(De(a))}catch(b){var a;t(Re((null===(a=b.response)||void 0===a?void 0:a.data.detail)||b.message))}}))}),[j,t,v]),Object(G.jsxs)("div",{children:[Object(G.jsx)(F.Link,{to:"/",className:"btn btn-light my-3",children:"Voltar"}),p?Object(G.jsx)(be,{}):b?Object(G.jsx)(ge,{variant:"danger",children:b}):Object(G.jsxs)("div",{children:[Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{md:3,children:Object(G.jsx)(Ke.a,{src:h.image,alt:h.name,fluid:!0})}),Object(G.jsx)(re.a,{md:6,children:Object(G.jsxs)(Ve.a,{variant:"flush",children:[Object(G.jsx)(Ve.a.Item,{children:Object(G.jsx)("h3",{children:h.name})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsx)(ue,{value:h.rating,text:`${h.numReviews} avalia\xe7\xf5es`,color:"#f8e825"})}),Object(G.jsxs)(Ve.a.Item,{children:["Preco: R$",h.price]}),Object(G.jsxs)(Ve.a.Item,{children:["Descricao: ",h.description]})]})}),Object(G.jsx)(re.a,{children:Object(G.jsx)(Xe.a,{children:Object(G.jsxs)(Ve.a,{variant:"flush",children:[Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Preco:"}),Object(G.jsx)(re.a,{children:Object(G.jsxs)("strong",{children:["R$",h.price]})})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Status:"}),Object(G.jsx)(re.a,{children:h.countInStock>0?"Em Estoque":"Fora de estoque"})]})}),h.countInStock>0&&Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Quantidade:"}),Object(G.jsx)(re.a,{children:Object(G.jsx)(Ye.a.Control,{style:{border:"2px solid black"},as:"select",value:s,onChange:e=>c(e.target.value),children:[...Array(h.countInStock).keys()].map((e=>Object(G.jsx)("option",{value:e+1,children:e+1},e+1)))})})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsx)(Ze.a,{onClick:()=>{a.push(`/cart/${t.params.id}?qty=${s}`),j(((e,t)=>async(a,r)=>{try{const{cartItems:s}=r().cart,c=await Qe.fetchProduct(e);let n=-1;for(let t=0;t<s.length;t++)if(s[t]._id===e){n=t;break}if(-1!==n){const e=[...s];e[n].qty+=t,a(tt(e))}else a(tt([...s,{...c,qty:t}]))}catch(b){console.log("Erro ao adicionar item ao carrinho:",b)}})(t.params.id,s))},className:"btn-block",type:"button",disabled:0===h.countInStock,children:"Add para o carrinho"})})]})})})]}),Object(G.jsx)(ae.a,{children:Object(G.jsxs)(re.a,{md:6,children:[Object(G.jsx)("h4",{children:"Avalia\xe7\xf5es"}),0===h.reviews.length&&Object(G.jsx)(ge,{children:"Sem Avalia\xe7\xf5es"}),Object(G.jsxs)(Ve.a,{variant:"flush",children:[h.reviews.map((e=>Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("strong",{children:e.name}),Object(G.jsx)(ue,{color:"#f8e825",value:e.rating}),Object(G.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(G.jsx)("p",{children:e.comment})]},e._id))),Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("h4",{children:"Escreva uma avaliacao"}),g&&Object(G.jsx)(be,{}),v&&Object(G.jsx)(ge,{variant:"success",children:"Coment\xe1rio enviado"}),y&&Object(G.jsx)(ge,{variant:"danger",children:y}),x?Object(G.jsxs)(Ye.a,{onSubmit:e=>{var a,r;e.preventDefault(),j((a=t.params.id,r={rating:n,comment:l},async e=>{try{e(Pe()),await fe.createProductReview(a,r),e(Ne())}catch(b){var t;e(Le((null===(t=b.response)||void 0===t?void 0:t.data.detail)||b.message))}}))},children:[Object(G.jsxs)(Ye.a.Group,{controlId:"rating",children:[Object(G.jsx)(Ye.a.Label,{children:"Avalia\xe7\xe3o"}),Object(G.jsxs)(Ye.a.Control,{as:"select",value:n,onChange:e=>o(e.target.value),children:[Object(G.jsx)("option",{value:"",children:"Select..."}),Object(G.jsx)("option",{value:"1",children:"1 - Ruim"}),Object(G.jsx)("option",{value:"2",children:"2 - Justa"}),Object(G.jsx)("option",{value:"3",children:"3 - Boa"}),Object(G.jsx)("option",{value:"4",children:"4 - Muito Boa"}),Object(G.jsx)("option",{value:"5",children:"5 - Exelente"})]})]}),Object(G.jsxs)(Ye.a.Group,{controlId:"comment",children:[Object(G.jsx)(Ye.a.Label,{children:"Comentarios"}),Object(G.jsx)(Ye.a.Control,{as:"textarea",rows:"3",value:l,onChange:e=>d(e.target.value)})]}),Object(G.jsx)(Ze.a,{disabled:g,type:"submit",variant:"primary",children:"Enviar"})]}):Object(G.jsxs)(ge,{children:["Favor ",Object(G.jsx)(F.Link,{to:"/login",children:"Entrar"})," Para escrever uma avaliacao"]})]})]})]})})]})]})};var it=function(e){let{history:t}=e;const a=Object(i.b)(),r=Object(i.c)((e=>e.cart)),{cartItems:s}=r;console.log(s);const c=e=>{a((e=>(t,a)=>{try{t(at(e))}catch(r){console.log("Erro ao remover item do carrinho:",r)}})(e))};return Object(G.jsxs)(ae.a,{children:[Object(G.jsxs)(re.a,{md:8,children:[Object(G.jsx)("h1",{children:"Carrinho de compras"}),0===s.length?Object(G.jsxs)(ge,{variant:"info",children:["Seu carrinho est\xe1 vazio. ",Object(G.jsx)(F.Link,{to:"/",children:"Voltar"})]}):Object(G.jsx)(Ve.a,{variant:"flush",children:s.map((e=>Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{md:2,children:Object(G.jsx)(Ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(G.jsx)(re.a,{m:3,children:Object(G.jsx)(F.Link,{to:`/product/${e._id}`,children:e.name})}),Object(G.jsx)(re.a,{children:e.qty}),Object(G.jsxs)(re.a,{children:["R$",e.price]}),Object(G.jsx)(re.a,{md:1,children:Object(G.jsx)(Ze.a,{type:"button",variant:"light",onClick:()=>c(e._id),children:Object(G.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)))})]}),Object(G.jsx)(re.a,{md:4,children:Object(G.jsxs)(Xe.a,{children:[Object(G.jsx)(Ve.a,{variant:"flush",children:Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsxs)("h2",{children:["Subtotal (",s.reduce(((e,t)=>e+t.qty),0),") items"]}),"R$",s.reduce(((e,t)=>e+t.qty*t.price),0).toFixed(2)]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsx)(Ze.a,{type:"button",className:"w-100",disabled:0===s.length,onClick:()=>{t.push("/login?redirect=shipping")},children:"Fazer o check-out"})})]})})]})},ot=a(261),lt=a(257),dt=a(271),jt=a(272);var ut=function(e){let{children:t}=e;return Object(G.jsx)(dt.a,{children:Object(G.jsx)(jt.a,{container:!0,justifyContent:"center",children:Object(G.jsx)(jt.a,{item:!0,xs:12,md:6,children:t})})})};const ht=Object(_.a)((e=>({form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})));var pt=function(e){let{location:t,history:a}=e;const s=ht(),[c,n]=Object(r.useState)(""),[o,l]=Object(r.useState)(""),d=Object(i.b)(),j=t.search?t.search.split("=")[1]:"/",h=Object(i.c)((e=>e.user)),{userDetails:p,loading:b,error:g}=h;return Object(r.useEffect)((()=>{p&&a.replace(j)}),[a,p,j]),Object(G.jsxs)(ut,{children:[Object(G.jsx)(ee.a,{component:"h1",style:{fontWeight:"bold"},variant:"h5",children:"Entrar"}),g&&Object(G.jsx)(ge,{variant:"danger",children:g}),b&&Object(G.jsx)(be,{}),Object(G.jsxs)("form",{className:s.form,onSubmit:e=>{e.preventDefault(),console.log(c,o),d(((e,t)=>async a=>{try{a(O());const r=await u.login(e,t);a(x(r))}catch(g){a(m(g.message))}})(c,o))},children:[Object(G.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(G.jsx)(Q.a,{item:!0,xs:12,children:Object(G.jsx)(ot.a,{variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",value:c,onChange:e=>n(e.target.value)})}),Object(G.jsx)(Q.a,{item:!0,xs:12,children:Object(G.jsx)(ot.a,{variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",value:o,onChange:e=>l(e.target.value)})})]}),Object(G.jsx)(lt.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:s.submit,children:"Login"}),Object(G.jsx)(Q.a,{container:!0,justify:"flex-start",children:Object(G.jsxs)(Q.a,{item:!0,children:["Novo Usuario?"," ",Object(G.jsx)(F.Link,{to:j?`/register?redirect=${j}`:"/register",variant:"body2",children:"Cadastrar"})]})})]})]})};const bt=Object(_.a)((e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"left"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})));var Ot=function(e){let{location:t,history:a}=e;const s=bt(),[c,n]=Object(r.useState)(""),[o,l]=Object(r.useState)(""),[d,j]=Object(r.useState)(""),[h,p]=Object(r.useState)(""),[b,O]=Object(r.useState)(""),m=Object(i.b)(),g=t.search?t.search.split("=")[1]:"/",{userDetails:y,loading:v,error:w}=Object(i.c)((e=>e.user));return Object(r.useEffect)((()=>{y&&a.push(g)}),[a,y,g]),Object(G.jsx)(Z.a,{component:"main",maxWidth:"xs",children:Object(G.jsxs)("div",{className:s.paper,children:[Object(G.jsx)(ee.a,{component:"h1",style:{fontWeight:"bold"},variant:"h5",children:"Cadastrar"}),b&&Object(G.jsx)(ge,{variant:"danger",children:b}),w&&Object(G.jsx)(ge,{variant:"danger",children:w}),v&&Object(G.jsx)(be,{}),Object(G.jsxs)("form",{className:s.form,onSubmit:e=>{e.preventDefault(),d!==h?O("Senha e corresponde"):m(((e,t,a)=>async r=>{try{r(f());const s=await u.createUser(e,t,a);r(S(s)),r(x(s))}catch(w){r(I(w.message))}})(c,o,d))},children:[Object(G.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(G.jsx)(Q.a,{item:!0,xs:12,children:Object(G.jsx)(ot.a,{variant:"filled",required:!0,fullWidth:!0,id:"name",label:"Nome",name:"name",value:c,onChange:e=>n(e.target.value)})}),Object(G.jsx)(Q.a,{item:!0,xs:12,children:Object(G.jsx)(ot.a,{variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",value:o,onChange:e=>l(e.target.value)})}),Object(G.jsx)(Q.a,{item:!0,xs:12,children:Object(G.jsx)(ot.a,{variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",value:d,onChange:e=>j(e.target.value)})}),Object(G.jsx)(Q.a,{item:!0,xs:12,children:Object(G.jsx)(ot.a,{variant:"filled",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirmar Senha",type:"password",id:"confirmPassword",value:h,onChange:e=>p(e.target.value)})})]}),Object(G.jsx)(lt.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:s.submit,children:"Cadastrar"}),Object(G.jsx)(Q.a,{container:!0,justifyContent:"flex-start",children:Object(G.jsxs)(Q.a,{item:!0,children:["J\xe1 tem uma conta?",Object(G.jsx)(F.Link,{to:g?`/login?redirect=${g}`:"/login",variant:"body2",children:"Login"})]})})]})]})})},xt=a(258);var mt=new class{constructor(){this.createOrder=async e=>{try{const t={headers:{"Content-type":"application/json",Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:a}=await j.a.post("/api/orders/add/",e,t);return a}catch(t){throw t.response&&t.response.data.detail?t.response.data.detail:t.message}},this.getOrderDetails=async e=>{try{const t={headers:{"Content-type":"application/json",Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:a}=await j.a.get(`/api/orders/${e}/`,t);return a}catch(t){throw t.response&&t.response.data.detail?t.response.data.detail:t.message}},this.payOrder=async(e,t)=>{try{const a={headers:{"Content-type":"application/json",Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:r}=await j.a.put(`/api/orders/${e}/pay/`,t,a);return r}catch(a){throw a.response&&a.response.data.detail?a.response.data.detail:a.message}},this.listMyOrders=async()=>{try{const e={headers:{"Content-type":"application/json",Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:t}=await j.a.get("/api/orders/myorders/",e);return t}catch(e){throw e.response&&e.response.data.detail?e.response.data.detail:e.message}},this.deliverOrder=async e=>{try{const t={headers:{"Content-type":"application/json",Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:a}=await j.a.put(`/api/orders/${e._id}/deliver/`,{},t);return a}catch(t){throw t.response&&t.response.data.detail?t.response.data.detail:t.message}}}};const gt=Object(l.b)({name:"order",initialState:{listorder:[],orderDetails:{},loading:!1,error:null},reducers:{getOrderDetailsStart(e){e.loading=!0,e.error=null},getOrderDetailsSuccess(e,t){e.orderDetails=t.payload,e.loading=!1,e.error=null,console.log(t.payload)},getOrderDetailsFailure(e,t){e.loading=!1,e.error=t.payload},createOrderStart(e){console.log(e),e.loading=!0,e.error=null},createOrderSuccess(e,t){e.listorder.push(t.payload),e.orderDetails=t.payload,e.loading=!1,e.error=null,console.log(e,t)},createOrderFailure(e,t){e.loading=!1,e.error=t.payload,console.log(e,t)},payOrderStart(e){e.loading=!0,e.error=null},payOrderSuccess:(e,t)=>("Order was paid"===t.payload&&(e.orderDetails.isPaid=!0),e.loading=!1,e.error=null,console.log(t.payload),console.log(e.orderDetails),e),payOrderFailure(e,t){e.loading=!1,e.error=t.payload},listMyOrdersStart(e){e.loading=!0,e.error=null},listMyOrdersSuccess(e,t){e.listorder=t.payload,e.loading=!1,e.error=null},listMyOrdersFailure(e,t){e.loading=!1,e.error=t.payload},listOrdersStart(e){e.loading=!0,e.error=null},listOrdersSuccess(e,t){e.listorder=t.payload,e.loading=!1,e.error=null},listOrdersFailure(e,t){e.loading=!1,e.error=t.payload},deliverOrderStart(e){e.loading=!0,e.error=null},deliverOrderSuccess(e,t){const a=t.payload,r=e.listorder.findIndex((e=>e._id===a._id));-1!==r&&(e.listorder[r]=a),e.loading=!1,e.error=null},deliverOrderFailure(e,t){e.loading=!1,e.error=t.payload}}}),{getOrderDetailsStart:yt,getOrderDetailsSuccess:vt,getOrderDetailsFailure:ft,createOrderStart:St,createOrderSuccess:It,createOrderFailure:wt,payOrderStart:Ct,payOrderSuccess:kt,payOrderFailure:Dt,listMyOrdersStart:Rt,listMyOrdersSuccess:Pt,listMyOrdersFailure:Nt,listOrdersStart:Lt,listOrdersSuccess:Ft,listOrdersFailure:$t,deliverOrderStart:At,deliverOrderSuccess:Et,deliverOrderFailure:Ut}=gt.actions,{reducer:qt}=gt;var zt=a(140),Tt=a.n(zt);var _t=function(e){let{history:t}=e;const[a,s]=Object(r.useState)(""),[c,n]=Object(r.useState)(""),[o,l]=Object(r.useState)(""),[d,j]=Object(r.useState)(""),[h,p]=Object(r.useState)(""),b=Object(i.b)(),O=Object(i.c)((e=>e.user)),{userDetails:x,loading:m,error:g}=O,y={id:x._id,name:a,email:c,password:o},v=Object(i.c)((e=>e.order)),{listorder:f,loading:S,error:I}=v;return console.log(f),Object(r.useEffect)((()=>{x?(b((async e=>{try{e(Rt());const t=await mt.listMyOrders();e(Pt(t))}catch(g){e(Nt(g.message))}})),s(x.name),n(x.username)):t.push("/login")}),[b,t,x,g]),Object(G.jsxs)(ae.a,{children:[Object(G.jsxs)(re.a,{md:3,children:[Object(G.jsx)("h2",{children:"Perfil de usu\xe1rio"}),h&&Object(G.jsx)(ge,{variant:"danger",children:h}),g&&Object(G.jsx)(ge,{variant:"danger",children:g}),m&&Object(G.jsx)(be,{}),Object(G.jsxs)(Ye.a,{onSubmit:e=>{var t,a;e.preventDefault(),o!==d?p("Senha nao corresponde"):(b((t=x.id,a=y,async e=>{try{e(w());const r=await u.updateUser(t,a);e(C(r))}catch(g){e(k(g.message))}})),console.log(y),p(""))},children:[Object(G.jsxs)(Ye.a.Group,{controlId:"name",children:[Object(G.jsx)(Ye.a.Label,{children:"Nome"}),Object(G.jsx)(Ye.a.Control,{required:!0,type:"name",placeholder:"Digite seu nome",value:a,onChange:e=>s(e.target.value)})]}),Object(G.jsxs)(Ye.a.Group,{controlId:"email",children:[Object(G.jsx)(Ye.a.Label,{children:"Email"}),Object(G.jsx)(Ye.a.Control,{required:!0,type:"email",placeholder:"Digite seu email",value:c,onChange:e=>n(e.target.value)})]}),Object(G.jsxs)(Ye.a.Group,{controlId:"password",children:[Object(G.jsx)(Ye.a.Label,{children:"Senha"}),Object(G.jsx)(Ye.a.Control,{type:"password",placeholder:"Digite sua senha",value:o,onChange:e=>l(e.target.value)})]}),Object(G.jsxs)(Ye.a.Group,{controlId:"passwordConfirm",children:[Object(G.jsx)(Ye.a.Label,{children:"Confirmar senha"}),Object(G.jsx)(Ye.a.Control,{type:"password",placeholder:"Confirmar senha",value:d,onChange:e=>j(e.target.value)})]}),Object(G.jsx)(Ze.a,{type:"submit",variant:"primary",className:"mt-3",children:"Atutalizar"})]}),Object(G.jsx)(Ze.a,{type:"submit",variant:"danger",className:"mt-3",onClick:()=>{var e;b((e=x.id,async t=>{try{t(D()),await u.deleteUser(e),t(R())}catch(g){t(P(g.message))}})),t.push("/"),window.location.reload()},children:Object(G.jsxs)("div",{style:{fontSize:"7px"},children:[Object(G.jsx)(Tt.a,{}),"  Conta "]})})]}),Object(G.jsxs)(re.a,{md:9,children:[Object(G.jsx)("h2",{children:"Minhas ordens"}),S?Object(G.jsx)(be,{}):I?Object(G.jsx)(ge,{variant:"danger",children:I}):Object(G.jsxs)(xt.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{children:"ID"}),Object(G.jsx)("th",{children:"Data"}),Object(G.jsx)("th",{children:"Total"}),Object(G.jsx)("th",{children:"Pago"}),Object(G.jsx)("th",{children:"Entregado"})]})}),Object(G.jsx)("tbody",{children:f.filter((e=>e.isPaid)).map((e=>Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:e._id}),Object(G.jsx)("td",{children:e.createdAt?e.createdAt.substring(0,10):null}),Object(G.jsxs)("td",{children:["$",e.totalPrice]}),Object(G.jsx)("td",{children:e.isPaid?e.paidAt?e.paidAt.substring(0,10):null:Object(G.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(G.jsx)("td",{children:Object(G.jsx)(Je.LinkContainer,{to:"/orderDetail",children:Object(G.jsx)(Ze.a,{className:"btn-sm",onClick:()=>{return b((t=e._id,async e=>{try{e(yt());const a=await mt.getOrderDetails(t);console.log(t),e(vt(a))}catch(g){e(ft(g.message))}}));var t},children:"Detalhes"})})})]},e._id)))})]})]})]})},Mt=a(269);const Bt=Object(_.a)((e=>({link:{display:"flex",color:e.palette.grey[600],textDecoration:"none"},activeLink:{color:e.palette.primary.main}})));var Jt=function(e){let{step1:t,step2:a,step3:r}=e;const s=Bt();return Object(G.jsxs)(Mt.a,{"aria-label":"breadcrumb",children:[Object(G.jsx)(F.Link,{to:"/login",className:`${s.link} ${t?s.activeLink:""}`,children:t?"Login":"Login (Incompleto)"}),Object(G.jsx)(F.Link,{to:"/shipping",className:`${s.link} ${a?s.activeLink:""}`,children:a?"Envio":"Envio (Incompleto)"}),Object(G.jsx)(ee.a,{color:r?"textPrimary":"textSecondary",className:`${s.link} ${r?s.activeLink:""}`,children:r?"Fa\xe7a a encomenda":"Fa\xe7a a encomenda (Incompleto)"})]})};var Wt=function(e){let{history:t}=e;const a=Object(i.c)((e=>e.cart)),{shippingAddress:s}=a,[c,n]=Object(r.useState)(s.address),[o,l]=Object(r.useState)(s.city),[d,j]=Object(r.useState)(s.postalCode),[u,h]=Object(r.useState)(s.country),p=Object(i.b)();return Object(G.jsxs)(ut,{children:[Object(G.jsx)(Jt,{step1:!0,step2:!0}),Object(G.jsx)("h1",{children:"Envio"}),Object(G.jsxs)(Ye.a,{onSubmit:e=>{var a;e.preventDefault(),p((a={address:c,city:o,postalCode:d,country:u},e=>{e(rt(a))})),t.push("./payment")},children:[Object(G.jsxs)(Ye.a.Group,{controlId:"address",children:[Object(G.jsx)(Ye.a.Label,{children:"Endereco"}),Object(G.jsx)(Ye.a.Control,{required:!0,type:"text",placeholder:"Endereco",value:c||"",onChange:e=>n(e.target.value)})]}),Object(G.jsxs)(Ye.a.Group,{controlId:"city",children:[Object(G.jsx)(Ye.a.Label,{children:"Cidade"}),Object(G.jsx)(Ye.a.Control,{required:!0,type:"text",placeholder:"Digite a cidade",value:o||"",onChange:e=>l(e.target.value)})]}),Object(G.jsxs)(Ye.a.Group,{controlId:"postalCode",children:[Object(G.jsx)(Ye.a.Label,{children:"Caixa Postal"}),Object(G.jsx)(Ye.a.Control,{required:!0,type:"text",placeholder:"Insira o c\xf3digo postal",value:d||"",onChange:e=>j(e.target.value)})]}),Object(G.jsxs)(Ye.a.Group,{controlId:"country",children:[Object(G.jsx)(Ye.a.Label,{children:"Pais"}),Object(G.jsx)(Ye.a.Control,{required:!0,type:"text",placeholder:"Insira o pa\xeds",value:u||"",onChange:e=>h(e.target.value)})]}),Object(G.jsx)(Ze.a,{className:"my-3",type:"submit",variant:"primary",children:"Continuar"})]})]})};var Gt=function(e){let{history:t}=e;const a=Object(i.c)((e=>e.cart)),{shippingAddress:s}=a,[c,n]=Object(r.useState)("PayPal");s.address||t.push("/shipping");const o=Object(i.b)();return Object(G.jsxs)(ut,{children:[Object(G.jsx)(Jt,{step1:!0,step2:!0,step3:!0}),Object(G.jsxs)(Ye.a,{onSubmit:e=>{var a;e.preventDefault(),o((a=c,e=>{e(st(a))})),t.push("/placeorder")},children:[Object(G.jsxs)(Ye.a.Group,{children:[Object(G.jsx)(Ye.a.Label,{as:"legend",children:"Selecione um metodo"}),Object(G.jsx)(re.a,{children:Object(G.jsx)(Ye.a.Check,{type:"radio",label:"PayPal ou cartao de credito",id:"paypal",name:"paymentMethod",checked:!0,onChange:e=>n(e.target.value)})})]}),Object(G.jsx)(Ze.a,{type:"submit",variant:"primary",className:"my-3",children:"Continuar"})]})]})};var Ht=function(e){let{history:t}=e;const a=Object(i.b)(),r=Object(i.c)((e=>e.order)),{orderDetails:s,loading:c,error:n}=r,o=Object(i.c)((e=>e.cart)),l=o.cartItems.reduce(((e,t)=>e+t.price*t.qty),0),d=l>100?0:10,j=Number((.082*l).toFixed(2)),u=(Number(l)+Number(d)+Number(j)).toFixed(2);o.paymentMethod||t.push("/payment");const h={orderItems:o.cartItems,shippingAddress:o.shippingAddress,paymentMethod:o.paymentMethod,itemsPrice:l.toFixed(2).toString(),shippingPrice:d.toFixed(2).toString(),taxPrice:j.toFixed(2).toString(),totalPrice:u.toString()};return Object(G.jsxs)("div",{children:[Object(G.jsx)(Jt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{md:8,children:Object(G.jsxs)(Ve.a,{variant:"flush",children:[Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("h2",{children:"Envio"}),Object(G.jsxs)("p",{children:[Object(G.jsx)("strong",{children:"Endereco de envio: "}),o.shippingAddress.address,", ",o.shippingAddress.city,","," ",o.shippingAddress.postalCode,","," ",o.shippingAddress.country]})]}),Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("h2",{children:"Pagamentos"}),Object(G.jsxs)("p",{children:[Object(G.jsx)("strong",{children:"Metodo de pagamentos: "}),o.paymentMethod]})]}),Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("h2",{children:"Produtos Pedidos"}),0===o.cartItems.length?Object(G.jsx)(ge,{variant:"info",children:"Seu carrinho est\xe1 vazio"}):Object(G.jsx)(Ve.a,{variant:"flush",children:o.cartItems.map(((e,t)=>Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{md:1,children:Object(G.jsx)(Ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(G.jsx)(re.a,{children:Object(G.jsx)(F.Link,{to:`/product${e.product}`,children:e.name})}),Object(G.jsxs)(re.a,{md:4,children:[e.qty," X R$ ",e.price," = R$",(e.qty*e.price).toFixed(2)]})]})},t)))})]})]})}),Object(G.jsx)(re.a,{md:4,children:Object(G.jsx)(Xe.a,{children:Object(G.jsxs)(Ve.a,{variant:"flush",children:[Object(G.jsx)(Ve.a.Item,{children:Object(G.jsx)("h2",{children:"Soma dos pedidos"})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Produtos:"}),Object(G.jsxs)(re.a,{children:["R$",l.toFixed(2)]})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Frete:"}),Object(G.jsxs)(re.a,{children:["R$",d.toFixed(2)]})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Impostos:"}),Object(G.jsxs)(re.a,{children:["R$",j]})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Total:"}),Object(G.jsxs)(re.a,{children:["R$",u]})]})}),Object(G.jsx)(Ve.a.Item,{children:n&&Object(G.jsx)(ge,{variant:"danger",children:n})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsx)(Ze.a,{type:"button",className:"w-100",disabled:0===o.cartItems.length,onClick:()=>{a((e=>async t=>{try{t(St());const a=await mt.createOrder(e);t(It(a)),localStorage.removeItem("cartItems")}catch(n){t(wt(n.message))}})(h)).then((()=>{setTimeout((()=>{console.log(s),t.push("/orderDetail")}),1e3)})).catch((e=>{}))},children:"Fa\xe7a a encomenda"})})]})})})]})]})},Kt=a(141);var Vt=function(e){let{history:t}=e;const a=Object(i.b)(),[s,c]=Object(r.useState)(!1),n=Object(i.c)((e=>e.order)),{orderDetails:o,error:l,loading:d}=n;console.log(o);const j=Object(i.c)((e=>e.user)),{userDetails:u}=j;let h=o;if(h&&h.orderItems&&h.orderItems.length>0){const e=h.orderItems.reduce(((e,t)=>e+t.price*t.qty),0).toFixed(2);h={...h,itemsPrice:e}}Object(r.useEffect)((()=>{u?o.isPaid||(window.paypal?c(!0):(()=>{const e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AYgflmsaM7ccNLPlKUiufIyw8-spOE4UuS5XyyTCvhzheA-1EUcZF9qGlgXBZaSKcP5BY0zTc9WgINKe",e.async=!0,e.onload=()=>{c(!0)},document.body.appendChild(e)})()):t.push("/login")}),[a,o,t,u]);const p=o.orderItems&&o.orderItems.length>0?o.orderItems.reduce(((e,t)=>e+parseFloat(t.price)*t.qty),0):0;return d?Object(G.jsx)(be,{}):l?Object(G.jsx)(ge,{variant:"danger",children:l}):Object(G.jsxs)("div",{children:[Object(G.jsxs)("h1",{children:["Pedido: ",o._id]}),Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{md:8,children:Object(G.jsxs)(Ve.a,{variant:"flush",children:[Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("h2",{children:"Envio"}),Object(G.jsx)("p",{children:Object(G.jsxs)("strong",{children:["Nome: ",o.User.name]})}),Object(G.jsxs)("p",{children:[Object(G.jsx)("strong",{children:"Email: "}),Object(G.jsx)("a",{href:`mailto:${o.User.username}`,children:o.User.username})]}),Object(G.jsxs)("p",{children:[Object(G.jsx)("strong",{children:"Endereco de envio: "}),o.shippingAddress.address,", ",o.shippingAddress.city,","," ",o.shippingAddress.postalCode,","," ",o.shippingAddress.country]}),o.isDeliver?Object(G.jsxs)(ge,{variant:"success",children:["Entregado em "," ",o.deliveredAt?o.deliveredAt.substring(0,10):null]}):Object(G.jsx)(ge,{variant:"warning",children:"Nao entregado"})]}),Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("h2",{children:"Pagamentos"}),Object(G.jsxs)("p",{children:[Object(G.jsx)("strong",{children:"Metodo de pagamento: "}),o.paymentMethod]}),o.isPaid?Object(G.jsxs)(ge,{variant:"success",children:["Paid   ",o.paidAt?o.paidAt.substring(0,10):null]}):Object(G.jsx)(ge,{variant:"warning",children:"Sem Pagar"})]}),Object(G.jsxs)(Ve.a.Item,{children:[Object(G.jsx)("h2",{children:"Pedidos"}),0===o.orderItems.length?Object(G.jsx)(ge,{variant:"info",children:"Pedidos estao vazios"}):Object(G.jsx)(Ve.a,{variant:"flush",children:o.orderItems.map(((e,t)=>Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{md:1,children:Object(G.jsx)(Ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(G.jsx)(re.a,{children:Object(G.jsx)(F.Link,{to:`/product/${e.product}`,children:e.name})}),Object(G.jsxs)(re.a,{md:4,children:[e.qty," X R$ ",e.price," = R$",(e.qty*e.price).toFixed(2)]})]})},t)))})]})]})}),Object(G.jsx)(re.a,{md:4,children:Object(G.jsx)(Xe.a,{children:Object(G.jsxs)(Ve.a,{variant:"flush",children:[Object(G.jsx)(Ve.a.Item,{children:Object(G.jsx)("h2",{children:"Soma dos pedidos"})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Custo dos produtos:"}),Object(G.jsxs)(re.a,{children:["R$",p]})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Frete:"}),Object(G.jsxs)(re.a,{children:["R$",o.shippingPrice]})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Imposto:"}),Object(G.jsxs)(re.a,{children:["R$",o.taxPrice]})]})}),Object(G.jsx)(Ve.a.Item,{children:Object(G.jsxs)(ae.a,{children:[Object(G.jsx)(re.a,{children:"Total:"}),Object(G.jsxs)(re.a,{children:["R$",o.totalPrice]})]})}),!o.isPaid&&Object(G.jsxs)(Ve.a.Item,{children:[d&&Object(G.jsx)(be,{}),s?Object(G.jsx)(Kt.PayPalButton,{amount:o.totalPrice,onSuccess:e=>{a(((e,t)=>async a=>{try{a(Ct());const r=await mt.payOrder(e,t);a(kt(r))}catch(l){a(Dt(l.message))}})(o._id,e)),console.log(o._id)}}):Object(G.jsx)(be,{})]})]})})})]})]})};const Xt=Object(_.a)((()=>({container:{backgroundImage:"url(https://e7.pngegg.com/pngimages/194/912/png-clipart-white-dialogue-box-ring-foam-engraving-speech-bubble-angle-text.png)",backgroundSize:"cover",height:"50px",Width:"50px",display:"flex",justifyContent:"center",alignItems:"center",margin:"200px"},text:{color:"white",backgroundColor:"black",padding:"10px"}})));var Yt=()=>{const e=Xt();return Object(G.jsx)("div",{children:Object(G.jsx)("div",{className:e.container,children:Object(G.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem in ducimus quis corporis, est eius, voluptatem saepe porro ipsam sed ullam voluptates provident, numquam optio ipsa repellendus explicabo necessitatibus non?"})})})};var Zt=function(){return Object(G.jsxs)(F.HashRouter,{children:[Object(G.jsx)("div",{style:{position:"sticky",top:0,zIndex:"100"},children:Object(G.jsx)(Y,{})}),Object(G.jsx)(o.a,{children:Object(G.jsxs)("main",{className:"py-3",children:[Object(G.jsx)(M.Route,{exact:!0,path:"/",component:He}),Object(G.jsx)(M.Route,{path:"/page/:pageNumber",component:He}),Object(G.jsx)(M.Route,{path:"/login",component:pt}),Object(G.jsx)(M.Route,{path:"/register",component:Ot}),Object(G.jsx)(M.Route,{path:"/profile",component:_t}),Object(G.jsx)(M.Route,{path:"/shipping",component:Wt}),Object(G.jsx)(M.Route,{path:"/payment",component:Gt}),Object(G.jsx)(M.Route,{path:"/placeorder",component:Ht}),Object(G.jsx)(M.Route,{path:"/orderDetail",component:Vt}),Object(G.jsx)(M.Route,{path:"/product/:id",component:nt}),Object(G.jsx)(M.Route,{path:"/cart/:id?",component:it}),Object(G.jsx)(M.Route,{path:"/star",component:Yt})]})}),Object(G.jsx)(te,{})]})};var Qt=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,282)).then((t=>{let{getCLS:a,getFID:r,getFCP:s,getLCP:c,getTTFB:n}=t;a(e),r(e),s(e),c(e),n(e)}))},ea=(a(185),a(186),a(47));const ta=Object(ea.b)({user:L,product:Ee,order:qt,cart:ct}),aa=Object(l.a)({reducer:ta,devTools:"true"===Object({NODE_ENV:"production",PUBLIC_URL:"/Django_React_Store",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENABLE_REDUX_DEV_TOOLS});i.c;var ra=aa;n.a.render(Object(G.jsx)(i.a,{store:ra,children:Object(G.jsx)(Zt,{})}),document.getElementById("root")),Qt()}},[[187,1,2]]]);
//# sourceMappingURL=main.477ab917.chunk.js.map